<div class="col-md-12 text-center"><h3>Наши фото</h3></div>
<div class="col-md-6 col-md-offset-3">
  <div class="carousel slide" data-ride="carousel" data-type="multi" data-interval="3000" id="myCarousel">
    <div class="carousel-inner">
      <% images.each_with_index do |value, index| %>
        <% if index == 0 %>
          <div class="item active">
            <%= image_tag value.model.cover.view.url, title: value.model.title %>
          </div>
        <% else %>
          <div class="item">
            <%= image_tag value.model.cover.view.url, title: value.model.title %>
          </div>
        <% end %>
      <% end %>
    </div>
    <a class="left carousel-control" href="#myCarousel" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function(){
    //carousel_multi_items();
    //$("#myCarousel").carousel();
    
    $('.carousel[data-type="multi"] .item').each(function(){
      var next = $(this).next();
      if (!next.length) {
        next = $(this).siblings(':first');
      }
      next.children(':first-child').clone().appendTo($(this));

      for (var i=0;i<2;i++) {
        next=next.next();
        if (!next.length) {
          next = $(this).siblings(':first');
        }

        next.children(':first-child').clone().appendTo($(this));
      }
    });
  });
</script>